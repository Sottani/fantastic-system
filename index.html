<!doctype html>
<!--
Created using JS Bin
http://jsbin.com

Copyright (c) 2021 by anonymous (http://jsbin.com/jusafexece/1/edit)

Released under the MIT license: http://jsbin.mit-license.org
-->
<meta name="robots" content="noindex">
<html>
<head>
	<title>Chronomètre</title>
	<meta charset="utf-8">
	<style type="text/css">
      .chronometre{
        margin: auto ;
        width: 300px;
        text-align: center;
        
      }

      .compteur{
      	margin: auto;
      	width: 300px;
      	border: 1px solid rgba(0,0,0,0.5);
      	padding:5px 0;
      	text-align: center;
      	font-size: 1.5em;
      	font-family: digital;
      	margin-bottom: 10px;


      }
     
      button{
        background: #3498db;
        color: #fff;
        width: 70px;
        border-radius: 5px;
        line-height: 1.5em;
        border: none
      }
     
      .total{
        color:#3498db;
        font-size:3em;
        margin-top:50px;
        text-align:center;
        border:2px dotted;
      }
      
	</style>
</head>
<body>
<div class="chronometre">
  <div class="compteur">
    <span>0 h</span> :
    <span>0 m</span> :
  	<span>0 s</span>

  </div>
  <button id="start" onclick="start()">Start</button>
  <button id="stop" onclick="stop()" >Stop</button>
  <button id="reset" onclick="reset()" >Reset</button>
  <button id="add" onclick="add()">Add</button>
</div>

 <div class="total">
   <span>0 h</span>
  </div>
</body>
</html>

<script type="text/javascript">
  var sp = document.getElementsByTagName("span");
  var btn_start=document.getElementById("start");
  var btn_stop=document.getElementById("stop");
  var t;
  var h=0,mn=0,s=0;
  var htot=0;
   

  function start(){
   t =setInterval(update_chrono,1000);
   btn_start.disabled=true;
    }
  
  function update_chrono(){
    s+=1;
       if(s==60){
         s=0;
         mn+=1;
       }
       if(mn==60){
         mn=0;
         h+=1;
       }
       /*afficher les nouvelle valeurs*/
       sp[2].innerHTML=s+" s";
       sp[1].innerHTML=mn+" m";
       sp[0].innerHTML=h+" h";

  }
  
	/*on arrête le "timer" par clearInterval ,on réactive le bouton start */
	function stop(){
    clearInterval(t);
    btn_start.disabled=false;
		
	}
  /*dans cette fonction on arrête le "timer" ,on réactive le bouton "start" et on initialise les variables à zéro */
  function reset(){
   clearInterval(t);
    btn_start.disabled=false;
    s=0,mn=0,h=0;
    /*on accède aux différents span par leurs indice*/
    sp[0].innerHTML=h+" h";
    sp[1].innerHTML=mn+" m";
    sp[2].innerHTML=s+" s";
      }
  
  function add(){
    htot+=h;
    htot+=mn/60;
    htot+=s/3600;
    if(htot<1){
       sp[3].innerHTML=htot.toFixed(2)+" h";
      }
    if(htot>=1){
       sp[3].innerHTML=htot+" h";
    }
    
    clearInterval(t);
    btn_start.disabled=false;
    s=0,mn=0,h=0;
    sp[0].innerHTML=0+" h";
    sp[1].innerHTML=0+" m";
    sp[2].innerHTML=0+" s";
  }
</script>
